@model IEnumerable<HotelWaveFinal.Models.Booking>

<div class="container my-5" style="position: relative; padding: 60px 0;">
    <img src="~/assets/royal-master/image/about_banner.jpg" alt="Background" class="background-image" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover; z-index: -1;">
    <div class="overlay"></div>
    <div class="card shadow border-0 mx-auto" style="width: 85%; border-radius: 10px; box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5);">
        <div class="card-header bg-info bg-gradient py-3">
            <div class="row">
                <div class="col-12 text-center">
                    <div class="text-white py-2">
                        <h2>My Bookings</h2>
                    </div>
                </div>
            </div>
        </div>
        <div class="card-body p-4">
            @if (!Model.Any())
            {
                <p class="text-center text-muted">You have no bookings yet.</p>
            }
            else
            {
                <div style="overflow-x:auto;">
                    <table class="table table-hover" style="min-width: 100%;">
                        <thead class="table-dark">
                            <tr>
                                <th>Room Number</th>
                                <th>Check-In Date</th>
                                <th>Check-Out Date</th>
                                <th>Status</th>
                                <th>Total Price (R)</th> <!-- Add total price column -->
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="bookingTableBody">
                            @foreach (var booking in Model)
                            {
                                <tr>
                                    <td>@booking.Room.RoomNumber</td>
                                    <td>@booking.CheckIn.ToString("yyyy-MM-dd")</td>
                                    <td>@booking.CheckOut.ToString("yyyy-MM-dd")</td>
                                    <td>@booking.Status</td>
                                    <td>@booking.TotalCost.ToString("F2")</td> <!-- Display total cost -->
                                    <td>
                                        <a href="@Url.Action("Details", "Bookings", new { id = booking.BookingId })" class="btn btn-info btn-sm">Details</a>
                                    </td>
                                </tr>
                            }
                        </tbody>
                    </table>
                </div>
            }
        </div>
    </div>
</div>

<style>
    .overlay {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(255, 165, 0, 0.1);
        z-index: 0;
    }

    .background-image {
        z-index: -1;
    }
</style>
